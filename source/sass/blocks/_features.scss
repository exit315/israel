.features {
  margin-bottom: 92px;
  padding: 0 8% 34px 7.6%;

  background-image: url("../img/bg/watch.png"), url("../img/bg/bg-watercolor-features-desktop.png");
  background-repeat: no-repeat, no-repeat;
  background-size: 90px 148px, cover;
  background-position: right 610px, center -47px;

  &__header {
    margin: 0;
    margin-bottom: 20px;
  
    @include section-header-desktop;
    text-align: center;
  }
  
  &__lead-in {
    margin: 0;
    margin-bottom: 43px;
    padding: 0 19%;
  
    @include text-big;
    text-align: center;
    color: $black-opacity;
  }

  &__container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;

    position: relative;
    margin: 0;
    padding: 0 0 0 465px;
  }

  &__wrapper {
    display: flex;
    justify-content: center;

    margin-bottom: 33px;
  }

  &__item {
    position: relative;
  
    span {
      position: absolute;
      bottom: 0;
      padding: 0 0 30px 30px;
  
      @include feature-description;
      z-index: 2;
    }
  }

  &__slider-controls {
    display: none;
  }

  &__item--excursion {
    position: absolute;
    top: -65px;
    left: 0;
  
    width: 482px;
    height: 732px;
  
    &::before {
      @include feature-item-img(url("../img/img-excursion-desktop.png"), 482px, 732px, 0, 0);
    }

    span {
      padding-left: 40px;
    }
  }
  
  &__item--lang {
    width: 211px;
    height: 318px;
    margin-right: 7%;
  
    &::before {
      @include feature-item-img(url("../img/img-study-lang-desktop.png"), 211px, 318px, 0, 0);
    }  
  }
  
  &__item--study {
    width: 411px;
    height: 318px;
  
    &::before {
      @include feature-item-img(url("../img/img-study-desktop.png"), 411px, 318px, 0, 0);
    }
  }
  
  &__item--projects {
    width: 411px;
    height: 318px;
    margin-right: 2%;

    span {
      padding-right: 10px;
    }
  
    &::before {
      @include feature-item-img(url("../img/img-projects-desktop.png"), 411px, 318px, 0, 0);
    }
  }
  
  &__item--leadership {
    width: 214px;
    height: 318px;
    margin-right: -5%;
  
    &::before {
      @include feature-item-img(url("../img/img-leadership-desktop.png"), 214px, 318px, 0, 0);
    }
  }
}

@media (max-width: 1300px) {
  .features {
    &__container {
      padding: 0 0 0 490px;
    }

    &__item--excursion {
      margin-right: 20px;
    }
  }
}

@media (max-width: 1260px) {
  .features {
    padding: 0 4%;

    &__container {
      padding: 0 0 0 470px;
    }

    &__wrapper {
      margin-bottom: 25px;
    }

    &__item--excursion {
      position: absolute;
      top: -65px;
      left: 0;
    
      width: calc(482px - (482px*0.05));
      height: calc(732px - (732px*0.05));
    
      &::before {
        @include feature-item-img(url("../img/img-excursion-desktop.png"), calc(482px - (482px*0.05)), calc(732px - (732px*0.05)), 0, 0);
      }
  
      span {
        padding-left: 40px;
      }
    }

    &__item--lang {
      width: calc(211px - (211px*0.05));
      height: calc(318px - (318px*0.05));
      margin-right: 1%;
    
      &::before {
        @include feature-item-img(url("../img/img-study-lang-desktop.png"), calc(211px - (211px*0.05)), calc(318px - (318px*0.05)), 0, 0);
      }  
    }
    
    &__item--study {
      width: calc(411px - (211px*0.05));
      height: calc(318px - (318px*0.05));
    
      &::before {
        @include feature-item-img(url("../img/img-study-desktop.png"), calc(411px - (211px*0.05)), calc(318px - (318px*0.05)), 0, 0);
      }
    }
    
    &__item--projects {
      width: calc(411px - (211px*0.05));
      height: calc(318px - (318px*0.05));
      margin-right: 1%;
  
      span {
        padding-right: 10px;
      }
    
      &::before {
        @include feature-item-img(url("../img/img-projects-desktop.png"), calc(411px - (211px*0.05)), calc(318px - (318px*0.05)), 0, 0);
      }
    }
    
    &__item--leadership {
      width: calc(214px - (211px*0.05));
      height: calc(318px - (318px*0.05));
      margin-right: -1%;
    
      &::before {
        @include feature-item-img(url("../img/img-leadership-desktop.png"), calc(214px - (211px*0.05)), calc(318px - (318px*0.05)), 0, 0);
      }
    }
  }
}

@media (max-width: 1110px) {
  .features {
    padding: 0 1% 0 2%;

    &__container {
      padding: 0 0 0 420px;
    }

    &__wrapper {
      margin-bottom: 25px;
    }

    &__item--excursion {
      position: absolute;
      top: -65px;
      left: 0;
    
      width: calc(482px - (482px*0.1));
      height: calc(732px - (732px*0.1));
    
      &::before {
        @include feature-item-img(url("../img/img-excursion-desktop.png"), calc(482px - (482px*0.1)), calc(732px - (732px*0.1)), 0, 0);
      }
  
      span {
        padding-left: 40px;
      }
    }

    &__item--lang {
      width: calc(211px - (211px*0.1));
      height: calc(318px - (318px*0.1));
      margin-right: 1%;
    
      &::before {
        @include feature-item-img(url("../img/img-study-lang-desktop.png"), calc(211px - (211px*0.1)), calc(318px - (318px*0.1)), 0, 0);
      }  
    }
    
    &__item--study {
      width: calc(411px - (211px*0.1));
      height: calc(318px - (318px*0.1));
    
      &::before {
        @include feature-item-img(url("../img/img-study-desktop.png"), calc(411px - (211px*0.1)), calc(318px - (318px*0.1)), 0, 0);
      }
    }
    
    &__item--projects {
      width: calc(411px - (211px*0.1));
      height: calc(318px - (318px*0.1));
      margin-right: 1%;
  
      span {
        padding-right: 10px;
      }
    
      &::before {
        @include feature-item-img(url("../img/img-projects-desktop.png"), calc(411px - (211px*0.1)), calc(318px - (318px*0.1)), 0, 0);
      }
    }
    
    &__item--leadership {
      width: calc(214px - (211px*0.1));
      height: calc(318px - (318px*0.1));
      margin-right: -1%;
    
      &::before {
        @include feature-item-img(url("../img/img-leadership-desktop.png"), calc(214px - (211px*0.1)), calc(318px - (318px*0.1)), 0, 0);
      }
    }
  }
}

@media (max-width: 1023px) {
  .features {
    margin-bottom: 0;
    padding: 0 5%;

    &__container {
      padding: 0;
    }

    &__item--excursion {
      position: relative;
    }
  }
}

@media (max-width: 767px) {
  .features {
    margin-bottom: 109px;
    padding: 0 16px;
  
    background-image: none;
  
    &__header {
      @include section-header-mobile;
    }
    
    &__lead-in {
      margin-bottom: 24px;
      padding: 0;
    
      @include text-big-mobile;
      text-align: left;
    }
  
    &__container {
      display: block;
      padding: 0;
    }
  
    &__wrapper {
      display: block;
      margin-bottom: 16px;
    }

    &__slider-controls-wrapper {
      margin: 0 auto;
    }

    &__slider-controls {
      display: inline-block;
      position: absolute;
      margin-left: -32px;
      bottom: -30px;
      left: 50%;
    }

    &__slider-label {
      margin-right: 8px;

      font-size: 0;
      vertical-align: middle;

      background-color: $black;
      opacity: 0.2;
      border: 3px solid transparent;
      box-sizing: border-box;
      border-radius: 50%;
      cursor: pointer;
    }
  
    &__item {
      display: none;
      position: relative;
      margin: 0 auto;
    
      span {
        position: absolute;
        bottom: 0;
        padding: 0 20px 20px;
    
        @include feature-header;
        text-align: center;
        z-index: 2;
      }
    }
    
    &__slider-input--excursion:checked ~ .features__container .features__item--excursion, 
    &__slider-input--lang:checked ~ .features__container .features__item--lang, 
    &__slider-input--study:checked ~ .features__container .features__item--study, 
    &__slider-input--projects:checked ~ .features__container .features__item--projects, 
    &__slider-input--leadership:checked ~ .features__container .features__item--leadership {
      display: block;
    }

    &__slider-input--excursion:checked ~ .features__container .features__slider-label--excursion, 
    &__slider-input--lang:checked ~ .features__container .features__slider-label--lang, 
    &__slider-input--study:checked ~ .features__container .features__slider-label--study, 
    &__slider-input--projects:checked ~ .features__container .features__slider-label--projects, 
    &__slider-input--leadership:checked ~ .features__container .features__slider-label--leadership {
      vertical-align: middle;
      background-color: $yellow;
      background-image: $yellow-gradient;
      opacity: 1;
      border: 4px solid transparent;
      box-sizing: border-box;
      border-radius: 50%;
    }

    &__item--excursion {
      top: 0;
      left: 0;
      width: 288px;
      height: 400px;

      &::before {
        @include feature-item-img(url("../img/img-excursion-mobile.png"), 288px, 400px, 0, 0);
      }
    }
  
    &__item--lang {
      width: 288px;
      height: 400px;
      margin: 0 auto;

      &::before {
        @include feature-item-img(url("../img/img-study-lang-mobile.png"), 288px, 400px, 0, 0);
      }

      span {
        padding-left: 60px;
      }
    }
  
    &__item--study {
      width: 288px;
      height: 400px;

      &::before {
        @include feature-item-img(url("../img/img-study-mobile.png"), 288px, 400px, 0, 0);
      }

      span {
        padding: 0 20px 30px 25px;
      }
    }
  
    &__item--projects {
      width: 288px;
      height: 400px;
      margin: 0 auto;

      &::before {
        @include feature-item-img(url("../img/img-projects-mobile.png"), 288px, 400px, 0, 0);
      }
    }
  
    &__item--leadership {
      width: 288px;
      height: 400px;

      &::before {
        @include feature-item-img(url("../img/img-leadership-mobile.png"), 288px, 400px, 0, 0);
      }

      span {
        padding-left: 50px;
      }
    }
  }
}
